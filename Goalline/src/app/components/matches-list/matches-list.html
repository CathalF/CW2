<div class="matches-container">
  <!-- Home Button (Top Left) -->
  <div class="home-btn-container">
    <button class="btn btn-home" [routerLink]="'/home'">
      <i class="bi bi-house-fill"></i> Home
    </button>
  </div>

  <div class="page-header">
    <h1><i class="bi bi-calendar-event"></i> Matches</h1>
    <p class="lead">Browse football matches and fixtures</p>
  </div>

  <!-- Search -->
  <div class="search-bar">
    <input
      type="text"
      class="form-control"
      placeholder="Search by team name..."
      [(ngModel)]="searchTerm"
      (keyup.enter)="onSearch()"
    />
    <button class="btn btn-light btn-lg text-dark border border-dark px-4" (click)="onSearch()" [disabled]="loading">
      <i class="bi bi-search"></i> Search
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner-border text-success" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Loading matches...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="alert alert-danger" role="alert">
    <i class="bi bi-exclamation-triangle"></i> {{ error }}
    <button class="btn btn-sm btn-outline-danger ms-3" (click)="loadMatches()">
      <i class="bi bi-arrow-clockwise"></i> Retry
    </button>
  </div>

  <!-- Matches List -->
  <div *ngIf="!loading && !error" class="matches-list">
    <div class="match-card" *ngFor="let match of matches">
      <div class="match-header">
        <div class="competition-info" *ngIf="match.competition || match.round">
          <i class="bi bi-trophy"></i>
          <span>{{ match.competition?.name || match.round }}</span>
        </div>
        <div class="match-date" *ngIf="getDisplayDate(match)">
          <i class="bi bi-calendar3"></i>
          <span>{{ getDisplayDate(match) | date:'medium' }}</span>
        </div>
      </div>

      <div class="match-body">
        <div class="team-section home-team">
          <div class="team-crest">
            <img *ngIf="match.homeTeam?.crest" [src]="match.homeTeam.crest" [alt]="match.homeTeam.name">
            <i *ngIf="!match.homeTeam?.crest" class="bi bi-shield-fill"></i>
          </div>
          <h3>{{ getHomeName(match) }}</h3>
        </div>

        <div class="match-score">
          <div class="status-badge" [ngClass]="getStatusClass(match)">
            {{ getMatchStatus(match) }}
          </div>
          <div class="score" *ngIf="parseScore(match.score)">
            <span class="home-score">{{ parseScore(match.score)!.home }}</span>
            <span class="separator">:</span>
            <span class="away-score">{{ parseScore(match.score)!.away }}</span>
          </div>
          <div class="vs-text" *ngIf="!parseScore(match.score)">
            <span>VS</span>
          </div>
        </div>

        <div class="team-section away-team">
          <div class="team-crest">
            <img *ngIf="match.awayTeam?.crest" [src]="match.awayTeam.crest" [alt]="match.awayTeam.name">
            <i *ngIf="!match.awayTeam?.crest" class="bi bi-shield-fill"></i>
          </div>
          <h3>{{ getAwayName(match) }}</h3>
        </div>
      </div>

    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !error && matches.length === 0" class="empty-state">
    <i class="bi bi-calendar-x"></i>
    <h3>No matches found</h3>
    <p>There are no matches available at the moment.</p>
  </div>

  <!-- Pagination -->
  <div class="pagination-controls" *ngIf="!loading && matches.length > 0">
    <button class="btn btn-light btn-lg text-dark border border-dark px-4" (click)="previousPage()" [disabled]="page <= 1">
      Previous Page
    </button>
    <span>Page {{ page }} of {{ totalPages }}</span>
    <button class="btn btn-light btn-lg text-dark border border-dark px-4" (click)="nextPage()" [disabled]="page >= totalPages">
      Next Page
    </button>
  </div>
</div>
